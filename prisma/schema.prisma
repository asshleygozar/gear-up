generator client {
  provider = "prisma-client-js"
  output   = "../lib/generated/prisma"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model users {
  user_id                   Int                 @id @default(autoincrement())
  email                     String              @unique @db.VarChar(255)
  name                      String?             @db.VarChar(255)
  password                  String?             @db.VarChar(255)
  user_account_date_created DateTime?           @db.Timestamp(6)
  accounts                  accounts[]
  transaction_table         transaction_table[]
}

model accounts {
  account_id        Int                 @id @default(autoincrement())
  account_name      String?             @db.VarChar(255)
  total_balance     Decimal?            @db.Decimal(10, 2)
  total_income      Decimal?            @db.Decimal(10, 2)
  total_expense     Decimal?            @db.Decimal(10, 2)
  user_id           Int
  users             users               @relation(fields: [user_id], references: [user_id], onDelete: NoAction, onUpdate: NoAction)
  transaction_table transaction_table[]
}

model transaction_table {
  transaction_id          Int       @id @default(autoincrement())
  transaction_category    String?   @db.VarChar(255)
  transaction_amount      Decimal?  @db.Decimal(10, 2)
  transaction_date        DateTime? @db.Timestamp(6)
  transaction_description String?   @db.VarChar(255)
  account_id              Int
  user_id                 Int
  accounts                accounts  @relation(fields: [account_id], references: [account_id], onDelete: NoAction, onUpdate: NoAction)
  users                   users     @relation(fields: [user_id], references: [user_id], onDelete: NoAction, onUpdate: NoAction)
}
